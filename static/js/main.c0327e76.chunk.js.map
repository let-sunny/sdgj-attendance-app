{"version":3,"sources":["assets/images/sdgj_horizontal_logo.png","actions/User.js","components/Header.js","actions/Attendance.js","components/Calendar.js","context/FirebaseContext.js","App.js","serviceWorker.js","firebase-config.js","firebase.js","index.js"],"names":["module","exports","User","firebase","getUser","account","a","userRef","db","collection","doc","email","get","user","exists","id","data","console","log","setUser","set","createdAt","Date","getTime","name","displayName","isMember","imageUrl","photoURL","deviceToken","lastSignedIn","merge","this","Header","props","state","isFetching","getToken","messaging","currentToken","setState","signIn","signOut","requestPermission","Notification","then","permission","auth","onAuthStateChanged","onTokenRefresh","src","alt","phoneNumber","onClick","React","Component","Attendance","setAttendance","date","attendanceMemberRef","attendance","isDeleted","updatedAt","getAttendances","where","orderBy","querySnapshot","empty","docs","map","Calendar","dateObject","moment","startX","key","weekdayShort","weekdaysShort","firstDayOfMonth","startOf","format","daysInMonth","Array","fill","num","i","month","year","onPrev","subtract","Promise","all","day","attendances","onNext","add","onAttend","d","alert","window","confirm","years","months","Number","onTouchStart","e","targetTouches","clientX","onTouchEnd","currentX","changedTouches","Math","abs","isToday","today","isSame","isSunday","isSaturday","isHoliday","holidays","solar","find","holiday","currentUser","weekdaysName","chineseWeekday","className","toUpperCase","blanks","classes","push","dayAttendances","isAttended","slice","join","type","disabled","totalCells","weeks","week","forEach","cell","length","weeksInMonth","Logo","FirebaseContext","createContext","App","Consumer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","signInWithRedirect","googleProvider","app","initializeApp","firestore","isSupported","usePublicVapidKey","GoogleAuthProvider","scope","err","ReactDOM","render","Provider","value","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c0327e76.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sdgj_horizontal_logo.79e03f6f.png\";","class User {\n\tconstructor(firebase) {\n\t\tthis.firebase = firebase;\n\t}\n\n\tgetUser = async (account) => {\n\t\tif (!account) return;\n\t\ttry {\n\t\t\tconst userRef = this.firebase.db.collection('users').doc(account.email);\n\t\t\tconst user = await userRef.get();\n\t\t\tif (!user.exists) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\temail: user.id,\n\t\t\t\t\t...user.data()\n\t\t\t\t};\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\tsetUser = async (account) => {\n\t\tif (!account) return;\n\t\ttry {\n\t\t\tconst userRef = this.firebase.db.collection('users').doc(account.email);\n\t\t\tconst user = await userRef.get();\n\t\t\tif (!user.exists) {\n\t\t\t\tawait userRef.set({\n\t\t\t\t\tcreatedAt: new Date().getTime(),\n\t\t\t\t\tname: account.displayName || '',\n\t\t\t\t\tisMember: false,\n\t\t\t\t\timageUrl: account.photoURL || '',\n\t\t\t\t\tdeviceToken: account.deviceToken || ''\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait userRef.set({\n\t\t\t\t\tlastSignedIn: new Date().getTime(),\n\t\t\t\t\tdeviceToken: account.deviceToken || user.data().deviceToken\n\t\t\t\t}, { merge: true });\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n}\n\nexport default User;","import React from 'react'\nimport User from '../actions/User';\n\nclass Header extends React.Component {\n\tfirebase = this.props.firebase;\n\tstate = {\n\t\tuser: null,\n\t\tisFetching: true\n\t};\n\n\tasync componentDidMount() {\n\t\tawait this.firebase.auth.onAuthStateChanged(this.user);\n\t\tif (this.firebase.messaging) {\n\t\t\tawait this.firebase.messaging.onTokenRefresh(this.getToken);\n\t\t\tawait this.getToken();\n\t\t\tthis.requestPermission();\n\t\t}\n\t};\n\n\tgetToken = async () => {\n\t\ttry {\n\t\t\tconst currentToken = await this.firebase.messaging.getToken();\n\t\t\tif (currentToken) {\n\t\t\t\tthis.setState({ deviceToken: currentToken });\n\t\t\t} else {\n\t\t\t\tconsole.log('No Instance ID token available. Request permission to generate one.');\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\tsetUser = async (user) => await new User(this.firebase).setUser(user);\n\n\tuser = async (user) => {\n\t\tif (user) await this.setUser({ ...user, deviceToken: this.state.deviceToken });\n\t\tthis.setState({\n\t\t\tuser,\n\t\t\tisFetching: false\n\t\t});\n\t};\n\n\tsignIn = async () => {\n\t\ttry {\n\t\t\tawait this.firebase.signIn();\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\tsignOut = async () => {\n\t\ttry {\n\t\t\tawait this.firebase.signOut();\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\trequestPermission = () => {\n\t\tconsole.log('Requesting permission...');\n\t\tNotification.requestPermission().then((permission) => {\n\t\t\tif (permission === 'granted') {\n\t\t\t\tconsole.log('Notification permission granted.');\n\t\t\t} else {\n\t\t\t\tconsole.log('Unable to get permission to notify.');\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\tif (this.state.isFetching) {\n\t\t\treturn (<div><p>...</p></div>);\n\t\t} else if (this.state.user) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.user.photoURL\n\t\t\t\t\t\t\t? (<img src={this.state.user.photoURL} alt={this.state.user.email} />)\n\t\t\t\t\t\t\t: (<p>{this.state.user.email || this.state.user.phoneNumber}</p>)\n\t\t\t\t\t}\n\t\t\t\t\t{/*<button onClick={() => this.signOut()}>나가기</button>*/}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={() => this.signIn()}>입장</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Header;","class Attendance {\n\tconstructor(firebase) {\n\t\tthis.firebase = firebase;\n\t}\n\n\tsetAttendance = async (date, user) => {\n\t\tif (!user || !date) return;\n\t\ttry {\n\t\t\tconst attendanceMemberRef = this.firebase.db\n\t\t\t\t.collection('attendances').doc(date)\n\t\t\t\t.collection('members').doc(user.email);\n\t\t\tconst attendance = await attendanceMemberRef.get();\n\t\t\tif (!attendance.exists) {\n\t\t\t\tawait attendanceMemberRef.set({\n\t\t\t\t\tcreatedAt: new Date().getTime(),\n\t\t\t\t\tname: user.name,\n\t\t\t\t\tisDeleted: false\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait attendanceMemberRef.set({\n\t\t\t\t\tisDeleted: !attendance.data().isDeleted,\n\t\t\t\t\tupdatedAt: new Date().getTime()\n\t\t\t\t}, { merge: true });\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\tgetAttendances = async (date) => {\n\t\tif (!date) return;\n\t\ttry {\n\t\t\tconst attendanceMemberRef = this.firebase.db\n\t\t\t\t.collection('attendances').doc(date)\n\t\t\t\t.collection('members').where('isDeleted', '==', false).orderBy('createdAt');\n\t\t\tconst querySnapshot = await attendanceMemberRef.get();\n\t\t\tif (!querySnapshot.empty) {\n\t\t\t\tconst { docs } = querySnapshot;\n\t\t\t\treturn docs.map(doc => ({ ...doc.data(), email: doc.id }))\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n}\n\nexport default Attendance;","import React from 'react'\nimport moment from 'moment'\nimport 'moment-lunar'\nimport Logo from '../assets/images/sdgj_horizontal_logo.png';\nimport Attendance from '../actions/Attendance';\nimport User from '../actions/User';\n\nclass Calendar extends React.Component {\n\tfirebase = this.props.firebase;\n\n\tstate = {\n\t\tdateObject: moment(),\n\t\tstartX: null,\n\t\tkey: 0\n\t};\n\n\tweekdayShort = moment.weekdaysShort();\n\n\tasync componentDidMount() {\n\t\tconst attendances = await Promise.all(this.daysInMonth().map((day) => this.attendances(day)));\n\t\tconst account = await this.firebase.auth.currentUser;\n\t\tthis.setState({\n\t\t\tattendances,\n\t\t\taccount\n\t\t});\n\t}\n\n\tfirstDayOfMonth = () => {\n\t\tconst { dateObject } = this.state;\n\t\treturn moment(dateObject)\n\t\t\t.startOf('month')\n\t\t\t.format('d');\n\t};\n\n\tdaysInMonth = (dateObject = this.state.dateObject) => {\n\t\treturn new Array(dateObject.daysInMonth()).fill(0).map((num, i) => i + 1);\n\t};\n\n\tmonth = () => {\n\t\treturn this.state.dateObject.format('M');\n\t};\n\n\tyear = () => {\n\t\treturn this.state.dateObject.format('Y');\n\t};\n\n\tonPrev = async () => {\n\t\tconst dateObject = this.state.dateObject.subtract(1, 'month');\n\t\tconst attendances = await Promise.all(this.daysInMonth(dateObject).map((day) => this.attendances(day)));\n\t\tthis.setState({\n\t\t\tdateObject: dateObject,\n\t\t\tattendances\n\t\t});\n\t};\n\n\tonNext = async () => {\n\t\tconst dateObject = this.state.dateObject.add(1, 'month');\n\t\tconst attendances = await Promise.all(this.daysInMonth(dateObject).map((day) => this.attendances(day)));\n\t\tthis.setState({\n\t\t\tdateObject: dateObject,\n\t\t\tattendances\n\t\t});\n\t};\n\n\tonAttend = async (d) => {\n\t\tconst account = this.state.account;\n\t\tconst user = await new User(this.firebase).getUser(account);\n\t\tif (!account || !user || !user.isMember) {\n\t\t\talert('정체를 밝혀라 !');\n\t\t} else {\n\t\t\tconst isConfirmed = window.confirm('진짜 출석 했어 ?');\n\t\t\tif (!isConfirmed) return;\n\n\t\t\tconst { dateObject } = this.state;\n\t\t\tconst date = moment({\n\t\t\t\tyears: dateObject.format('Y'),\n\t\t\t\tmonths: Number(dateObject.format('MM'))-1,\n\t\t\t\tdate: d\n\t\t\t}).format('YYYYMMDD');\n\t\t\tawait new Attendance(this.firebase).setAttendance(date, user);\n\t\t\tconst attendances = await Promise.all(this.daysInMonth().map((day) => this.attendances(day)));\n\t\t\tthis.setState({\n\t\t\t\tattendances\n\t\t\t});\n\t\t}\n\t};\n\n\tonTouchStart = (e) => {\n\t\tthis.setState({\n\t\t\tstartX: e.targetTouches[0].clientX\n\t\t});\n\t};\n\n\tonTouchEnd = (e) => {\n\t\tconst { startX } = this.state;\n\t\tconst currentX = e.changedTouches[0].clientX;\n\t\tif (Math.abs(currentX - startX ) > 130) {\n\t\t\tcurrentX - startX > 0 ? this.onPrev() : this.onNext();\n\t\t}\n\t\tthis.setState({\n\t\t\tstartX: null\n\t\t});\n\t};\n\n\tisToday = (d) => {\n\t\tconst { dateObject } = this.state;\n\t\tconst day = moment({\n\t\t\tyears: dateObject.format('Y'),\n\t\t\tmonths: Number(dateObject.format('MM'))-1,\n\t\t\tdate: d\n\t\t});\n\t\tconst today = moment().format('YYYY-MM-DD');\n\t\treturn !!day.isSame(today)\n\t};\n\n\tisSunday = (d) => {\n\t\tconst { dateObject } = this.state;\n\t\tconst day = moment({\n\t\t\tyears: dateObject.format('Y'),\n\t\t\tmonths: Number(dateObject.format('MM'))-1,\n\t\t\tdate: d\n\t\t}).day();\n\t\treturn day === 0;\n\t};\n\n\tisSaturday = (d) => {\n\t\tconst { dateObject } = this.state;\n\t\tconst day = moment({\n\t\t\tyears: dateObject.format('Y'),\n\t\t\tmonths: Number(dateObject.format('MM'))-1,\n\t\t\tdate: d\n\t\t}).day();\n\t\treturn day === 6;\n\t};\n\n\tisHoliday = (d) => {\n\t\tconst { dateObject } = this.state;\n\t\t// TODO 대체 공휴일\n\t\tconst holidays = [\n\t\t\t// 신정\n\t\t\tmoment({ years: this.year(), months: 0, date: 1}),\n\t\t\t// 설날\n\t\t\tmoment({ years: this.year(), months: 0, date: 1}).solar(),\n\t\t\tmoment({ years: this.year(), months: 0, date: 1}).solar().subtract(1, 'day'),\n\t\t\tmoment({ years: this.year(), months: 0, date: 1}).solar().add(1, 'day'),\n\t\t\t// 3.1\n\t\t\tmoment({ years: this.year(), months: 2, date: 1}),\n\t\t\t// 어린이날\n\t\t\tmoment({ years: this.year(), months: 4, date: 5}),\n\t\t\t// 부처님 오신날\n\t\t\tmoment({ years: this.year(), months: 4, date: 12}),\n\t\t\t// 현충일\n\t\t\tmoment({ years: this.year(), months: 5, date: 6}),\n\t\t\t// 광복절\n\t\t\tmoment({ years: this.year(), months: 7, date: 15}),\n\t\t\t// 추석\n\t\t\tmoment({ years: this.year(), months: 7, date: 15}).solar(),\n\t\t\tmoment({ years: this.year(), months: 7, date: 15}).solar().subtract(1, 'day'),\n\t\t\tmoment({ years: this.year(), months: 7, date: 15}).solar().add(1, 'day'),\n\t\t\t// 개천절\n\t\t\tmoment({ years: this.year(), months: 9, date: 3}),\n\t\t\t// 한글날\n\t\t\tmoment({ years: this.year(), months: 9, date: 9}),\n\t\t\t// 크리스마스\n\t\t\tmoment({ years: this.year(), months: 11, date: 25}),\n\t\t];\n\t\tconst day = moment({\n\t\t\tyears: dateObject.format('Y'),\n\t\t\tmonths: Number(dateObject.format('MM'))-1,\n\t\t\tdate: d\n\t\t});\n\t\treturn !!holidays.find((holiday) => holiday.isSame(day));\n\t};\n\n\tattendances = async (d) => {\n\t\tconst { dateObject } = this.state;\n\t\tconst date = moment({\n\t\t\tyears: dateObject.format('Y'),\n\t\t\tmonths: Number(dateObject.format('MM'))-1,\n\t\t\tdate: d\n\t\t}).format('YYYYMMDD');\n\t\tconst attendances = await new Attendance(this.firebase).getAttendances(date);\n\t\treturn {\n\t\t\t[date]: attendances\n\t\t};\n\t};\n\n\trender() {\n\t\tlet weekdaysName = this.weekdayShort.map((day, i) => {\n\t\t\tlet chineseWeekday = '';\n\t\t\tswitch (i) {\n\t\t\t\tcase 0:\n\t\t\t\t\tchineseWeekday = '日';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tchineseWeekday = '月';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tchineseWeekday = '火';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tchineseWeekday = '水';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tchineseWeekday = '木';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tchineseWeekday = '金';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tchineseWeekday = '土';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<th key={day} className=\"calendar-week-day\">\n\t\t\t\t\t<p className=\"ch\">{chineseWeekday}</p>\n\t\t\t\t\t<p className=\"en\">{day.toUpperCase()}</p>\n\t\t\t\t</th>\n\t\t\t);\n\t\t});\n\n\t\tconst blanks = new Array(Number(this.firstDayOfMonth())).fill(0).map((num, i) => {\n\t\t\treturn (\n\t\t\t\t<td key={`blank-${i}`} className=\"calendar-day blank\">{''}</td>\n\t\t\t);\n\t\t});\n\n\t\tconst daysInMonth = this.daysInMonth().map(day => {\n\t\t\t// set class\n\t\t\tconst classes = ['calendar-day'];\n\t\t\tif (this.isToday(day)) classes.push('today');\n\t\t\tif (this.isSunday(day) || this.isHoliday(day)) classes.push('holiday');\n\t\t\tif (this.isSaturday(day)) classes.push('saturday');\n\t\t\tconst date = moment({\n\t\t\t\tyears: this.state.dateObject.format('Y'),\n\t\t\t\tmonths: Number(this.state.dateObject.format('MM'))-1,\n\t\t\t\tdate: day\n\t\t\t}).format('YYYYMMDD');\n\t\t\tlet dayAttendances = this.state.attendances && this.state.attendances.find(attendance => attendance[date]);\n\t\t\tlet isAttended = false;\n\t\t\tdayAttendances = dayAttendances && dayAttendances[date].map(attendance => {\n\t\t\t\tif (!isAttended) isAttended = attendance.email === (this.state.account && this.state.account.email);\n\t\t\t\treturn (<button className=\"attendance\" key={attendance}>{(attendance.name && attendance.name.slice(0, 1)) || '출'}</button>);\n\t\t\t});\n\t\t\treturn (\n\t\t\t\t<td key={day} className={classes.join(' ')}>\n\t\t\t\t\t<button type=\"button\" className=\"btn-attend \"\n\t\t\t\t\t        name={day} onClick={() => this.onAttend(day)} disabled={isAttended}>{day}</button>\n\t\t\t\t\t<div className=\"attendance-area\">\n\t\t\t\t\t\t{dayAttendances}\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t);\n\t\t});\n\n\t\tconst totalCells = [...blanks, ...daysInMonth];\n\t\tlet weeks = [];\n\t\tlet week = [];\n\t\ttotalCells.forEach((cell, i) => {\n\t\t\tif (i === 0 || i % 7 !== 0) {\n\t\t\t\tweek.push(cell);\n\t\t\t} else { // new week\n\t\t\t\tweeks.push(week);\n\t\t\t\tweek = [];\n\t\t\t\tweek.push(cell);\n\t\t\t}\n\t\t\t// last day\n\t\t\tif (i === totalCells.length - 1) { weeks.push(week); }\n\t\t});\n\n\t\tlet weeksInMonth = weeks.map((week, i) => {\n\t\t\treturn <tr key={`week-${i}`}>{week}</tr>;\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"calendar\">\n\t\t\t\t<section className=\"calendar-header\">\n\t\t\t\t\t<div className=\"calendar-label\">\n\t\t\t\t\t\t<div className=\"calendar-label-month\">{this.month().toUpperCase()}</div>\n\t\t\t\t\t\t<div className=\"calendar-label-year\"> {this.year()}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\n\t\t\t\t<section className=\"calendar-body\"\n\t\t\t\t         onTouchStart={(e) => this.onTouchStart(e)}\n\t\t\t\t         onTouchEnd={(e) => this.onTouchEnd(e)} >\n\t\t\t\t\t<table className=\"calendar-table\">\n\t\t\t\t\t\t<thead><tr>{weekdaysName}</tr></thead>\n\t\t\t\t\t\t<tbody>{weeksInMonth}</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</section>\n\n\t\t\t\t<section className=\"calendar-footer\">\n\t\t\t\t\t<img src={Logo} alt=\"logo\" />\n\t\t\t\t\t<p className=\"address\">서울 마포구 서교동 358-93</p>\n\t\t\t\t\t<p className=\"copy-rights\">© 2019 시대공작</p>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Calendar;","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport default FirebaseContext;","import React from 'react';\nimport Header from './components/Header';\nimport Calendar from './components/Calendar';\nimport FirebaseContext from \"./context/FirebaseContext\";\n\nfunction App() {\n    return (\n        <FirebaseContext.Consumer>\n            {firebase =>\n                <div className=\"App\">\n                    <header>\n                        <Header firebase={ firebase }/>\n                    </header>\n                    <main>\n                        <Calendar firebase={ firebase } />\n                    </main>\n                </div>\n            }\n        </FirebaseContext.Consumer>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const config = {\n\tapiKey: \"AIzaSyCucVu9k4l944a0FrnsfUD3Zi-4ZvwMvjk\",\n\tauthDomain: \"sdgj-ffd0b.firebaseapp.com\",\n\tdatabaseURL: \"https://sdgj-ffd0b.firebaseio.com\",\n\tprojectId: \"sdgj-ffd0b\",\n\tstorageBucket: \"sdgj-ffd0b.appspot.com\",\n\tmessagingSenderId: \"736755019580\",\n\tappId: \"1:736755019580:web:b8f5a87042a028b5\"\n};\n//\n// const config = {\n// \tapiKey: process.env.REACT_APP_API_KEY,\n// \tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\n// \tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\n// \tprojectId: process.env.REACT_APP_PROJECT_ID,\n// \tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n// \tmessagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n// };\n\nexport default config;\n","import app from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\nimport 'firebase/messaging'\nimport config from './firebase-config'\n\nclass Firebase {\n\tconstructor() {\n\t\tapp.initializeApp(config);\n\n\t\tthis.auth = app.auth();\n\t\tthis.db = app.firestore();\n\n\t\tif (app.messaging.isSupported()) {\n\t\t\tthis.messaging = app.messaging();\n\t\t\tthis.messaging.usePublicVapidKey(\"BKT5Y-lwDSUMVzfmiRGUUSzBEnE1fz0_2VEABChqJer6pf-r7JHnQPAWlSBcSCYclfyL2pePRIrBRuL6y3efkqY\");\n\t\t}\n\n\t\tthis.googleProvider = new app.auth.GoogleAuthProvider();\n\t}\n\n\tsignIn = () => this.auth.signInWithRedirect(this.googleProvider);\n\n\tsignOut = () => this.auth.signOut();\n}\n\nexport default Firebase;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport Firebase from './firebase'\nimport FirebaseContext from './context/FirebaseContext'\n\nif ('serviceWorker' in navigator) {\n\tnavigator.serviceWorker.register('../firebase-messaging-sw.js')\n\t\t.then(function(registration) {\n\t\t\tconsole.log('Registration successful, scope is:', registration.scope);\n\t\t}).catch(function(err) {\n\t\tconsole.log('Service worker registration failed, error:', err);\n\t});\n}\n\nReactDOM.render(\n\t<FirebaseContext.Provider value={new Firebase()}>\n\t\t<App />\n\t</FirebaseContext.Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}